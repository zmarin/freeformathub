---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getAllTools } from '../lib/tools/registry';

const title = 'Free Text Processing Tools Online - Text Analysis, Formatting & Conversion';
const description = 'Comprehensive collection of free text processing tools. Analyze, format, convert, and manipulate text online. Text statistics, case conversion, diff comparison, and more.';

// Get all text-related tools
const textTools = getAllTools().filter(tool =>
  tool.category.id === 'text' ||
  (tool.keywords && tool.keywords.some(keyword =>
    ['text', 'word', 'case', 'string', 'character', 'line', 'paragraph'].some(textKeyword =>
      keyword.toLowerCase().includes(textKeyword)
    )
  ))
);

const featuredTextTools = [
  'text-statistics',
  'word-counter',
  'text-case-converter',
  'text-diff',
  'regex-tester',
  'line-deduplicator',
  'text-find-replace',
  'list-sorter'
];

const featuredTools = featuredTextTools.map(id =>
  textTools.find(tool => tool.id === id)
).filter(Boolean);

const otherTextTools = textTools.filter(tool =>
  !featuredTextTools.includes(tool.id)
);

const textCategories = [
  {
    title: 'Text Analysis',
    icon: 'üìä',
    tools: textTools.filter(tool =>
      ['text-statistics', 'word-counter', 'text-analytics'].includes(tool.id)
    )
  },
  {
    title: 'Text Transformation',
    icon: 'üîÑ',
    tools: textTools.filter(tool =>
      ['text-case-converter', 'text-find-replace', 'list-sorter'].includes(tool.id)
    )
  },
  {
    title: 'Text Comparison',
    icon: '‚öñÔ∏è',
    tools: textTools.filter(tool =>
      ['text-diff', 'diff-checker'].includes(tool.id)
    )
  },
  {
    title: 'Text Generation',
    icon: '‚ú®',
    tools: textTools.filter(tool =>
      ['lorem-ipsum-generator', 'ascii-art-generator', 'markdown-table-generator'].includes(tool.id)
    )
  }
];
---

<BaseLayout title={title} description={description}>
  <main class="container mx-auto px-4 py-8">
    {/* Hero Section */}
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
        Free Text Processing Tools
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-8">
        Professional text processing tools for writers, developers, and content creators.
        Analyze, format, convert, and manipulate text with powerful online tools that work offline.
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-lg">
          <span class="font-semibold">{textTools.length}+</span> Text Tools
        </div>
        <div class="bg-green-100 text-green-800 px-4 py-2 rounded-lg">
          Privacy-First Processing
        </div>
        <div class="bg-purple-100 text-purple-800 px-4 py-2 rounded-lg">
          No File Size Limits
        </div>
      </div>
    </div>

    {/* Featured Text Tools */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Most Popular Text Tools
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {featuredTools.map((tool) => (
          <a href={`/${tool.category.id}/${tool.slug}`}
             class="block p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center mb-3">
              <span class="text-2xl mr-3">{tool.icon}</span>
              <h3 class="text-lg font-semibold text-gray-900 line-clamp-2">
                {tool.name.replace(/ - .*$/, '')}
              </h3>
            </div>
            <p class="text-gray-600 text-sm line-clamp-3 mb-4">
              {tool.description}
            </p>
            <div class="flex flex-wrap gap-1">
              {tool.keywords && tool.keywords.slice(0, 3).map((keyword) => (
                <span class="inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded">
                  {keyword}
                </span>
              ))}
            </div>
          </a>
        ))}
      </div>
    </section>

    {/* Text Tool Categories */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Text Tools by Category
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {textCategories.map((category) => (
          <div class="bg-white border border-gray-200 rounded-lg p-6">
            <div class="flex items-center mb-4">
              <span class="text-2xl mr-3">{category.icon}</span>
              <h3 class="text-xl font-semibold text-gray-900">{category.title}</h3>
            </div>
            <div class="space-y-3">
              {category.tools.map((tool) => (
                <a href={`/${tool.category.id}/${tool.slug}`}
                   class="block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                  <div class="flex items-center">
                    <span class="text-lg mr-3">{tool.icon}</span>
                    <div>
                      <h4 class="font-medium text-gray-900">
                        {tool.name.replace(/ - .*$/, '')}
                      </h4>
                      <p class="text-gray-600 text-sm line-clamp-1">
                        {tool.description}
                      </p>
                    </div>
                  </div>
                </a>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    {/* Text Processing Use Cases */}
    <section class="mb-16 bg-gray-50 rounded-lg p-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Who Uses Text Processing Tools?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="text-center">
          <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl">‚úçÔ∏è</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Writers & Authors</h3>
          <p class="text-gray-600 text-sm">
            Analyze text statistics, count words, check readability, and format content for publishing.
          </p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl">üë©‚Äçüíª</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Developers</h3>
          <p class="text-gray-600 text-sm">
            Test regex patterns, compare code versions, format text data, and process strings.
          </p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl">üìù</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Content Creators</h3>
          <p class="text-gray-600 text-sm">
            Generate content, format text for social media, and analyze engagement metrics.
          </p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl">üéì</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Students & Researchers</h3>
          <p class="text-gray-600 text-sm">
            Analyze research papers, format citations, count words for assignments, and organize data.
          </p>
        </div>
      </div>
    </section>

    {/* Text Processing Features */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Advanced Text Processing Features
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="bg-white p-6 rounded-lg border border-gray-200">
          <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
            <span class="text-xl">üìä</span>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-3">Real-time Analysis</h3>
          <p class="text-gray-600">
            Get instant statistics, word counts, character analysis, and readability scores as you type.
          </p>
        </div>
        <div class="bg-white p-6 rounded-lg border border-gray-200">
          <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
            <span class="text-xl">üîÑ</span>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-3">Batch Processing</h3>
          <p class="text-gray-600">
            Process large amounts of text at once with bulk operations for efficiency and productivity.
          </p>
        </div>
        <div class="bg-white p-6 rounded-lg border border-gray-200">
          <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
            <span class="text-xl">üéØ</span>
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-3">Precision Tools</h3>
          <p class="text-gray-600">
            Advanced regex testing, find & replace, diff comparison, and text transformation tools.
          </p>
        </div>
      </div>
    </section>

    {/* FAQ Section */}
    <section class="bg-gray-50 rounded-lg p-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Text Processing FAQ
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Are text processing tools free to use?
            </h3>
            <p class="text-gray-600">
              Yes, all our text processing tools are completely free with no file size limits or usage restrictions. No registration required.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              How secure is text processing?
            </h3>
            <p class="text-gray-600">
              All text processing happens locally in your browser. Your text never leaves your device, ensuring complete privacy and security.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Can I process large text files?
            </h3>
            <p class="text-gray-600">
              Yes, our tools can handle large text files efficiently. Processing happens in real-time with no server limitations.
            </p>
          </div>
        </div>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              What text formats are supported?
            </h3>
            <p class="text-gray-600">
              Our tools support plain text, rich text, markdown, CSV, and various other text-based formats for maximum flexibility.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Do tools work offline?
            </h3>
            <p class="text-gray-600">
              Yes, once loaded, all text processing tools work offline. Perfect for sensitive documents or unreliable internet connections.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              How accurate are text statistics?
            </h3>
            <p class="text-gray-600">
              Our text analysis tools use industry-standard algorithms for word counting, readability scoring, and statistical analysis.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>