---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getAllTools } from '../lib/tools/registry';

const title = 'Free Data Converter Tools Online - Convert Between All Data Formats';
const description = 'Convert data between JSON, CSV, XML, Excel, and more formats online. Free data conversion tools with no file size limits. Secure, fast, and works offline.';

// Get all conversion-related tools
const converterTools = getAllTools().filter(tool =>
  tool.category.id === 'converters' ||
  (tool.keywords && tool.keywords.some(keyword =>
    ['convert', 'converter', 'transform', 'format'].some(convKeyword =>
      keyword.toLowerCase().includes(convKeyword)
    )
  ))
);

const featuredConverters = [
  'json-to-csv',
  'csv-to-json',
  'json-to-xml-converter',
  'xml-to-json-converter',
  'excel-to-json',
  'json-to-excel',
  'json-to-typescript',
  'base64-encoder'
];

const featuredTools = featuredConverters.map(id =>
  converterTools.find(tool => tool.id === id)
).filter(Boolean);

const otherConverters = converterTools.filter(tool =>
  !featuredConverters.includes(tool.id)
);

const conversionTypes = [
  {
    title: 'JSON Conversions',
    icon: 'ðŸ“Š',
    description: 'Convert JSON to/from CSV, XML, Excel, TypeScript, and more',
    tools: converterTools.filter(tool =>
      tool.name.toLowerCase().includes('json')
    )
  },
  {
    title: 'Data Format Conversions',
    icon: 'ðŸ”„',
    description: 'Transform between CSV, XML, Excel, and other data formats',
    tools: converterTools.filter(tool =>
      ['csv-to-json', 'xml-to-json-converter', 'excel-to-json', 'data-format-transformer'].includes(tool.id)
    )
  },
  {
    title: 'File Format Conversions',
    icon: 'ðŸ“„',
    description: 'Convert images, documents, and files between formats',
    tools: converterTools.filter(tool =>
      ['image-format-converter', 'webp-converter', 'pdf-text-extractor'].includes(tool.id)
    )
  },
  {
    title: 'Encoding Conversions',
    icon: 'ðŸ”',
    description: 'Base64, URL encoding, and text encoding conversions',
    tools: converterTools.filter(tool =>
      ['base64-encoder', 'url-encoder', 'data-uri-converter'].includes(tool.id)
    )
  }
];
---

<BaseLayout title={title} description={description}>
  <main class="container mx-auto px-4 py-8">
    {/* Hero Section */}
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
        Free Data Converter Tools
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-8">
        Converting data is the unglamorous part of shipping features. These tools handle the usual suspects â€”
        json to csv, csv to json, xml to json, json to xml, and even Excel â€” so you can focus on the real work.
        Everything runs clientâ€‘side, handles big files without fuss, and stays private by default.
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <div class="bg-blue-100  text-blue-800  px-4 py-2 rounded-lg border border-blue-200">
          <span class="font-semibold">{converterTools.length}+</span> Converters
        </div>
        <div class="bg-green-100  text-green-800  px-4 py-2 rounded-lg border border-green-200">
          50+ Format Combinations
        </div>
        <div class="bg-purple-100  text-purple-800  px-4 py-2 rounded-lg border border-purple-200">
          No Upload Required
        </div>
      </div>
    </div>

    {/* Featured Converters */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Most Popular Data Converters
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {featuredTools.map((tool) => (
          <a href={`/${tool.category.id}/${tool.slug}`}
             class="block p-6 bg-white  border border-gray-200  rounded-lg shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center mb-3">
              <span class="text-2xl mr-3">{tool.icon}</span>
              <h3 class="text-lg font-semibold text-gray-900 line-clamp-2">
                {tool.name.replace(/ - .*$/, '')}
              </h3>
            </div>
            <p class="text-gray-600 text-sm line-clamp-3 mb-4">
              {tool.description}
            </p>
            <div class="flex flex-wrap gap-1">
              {tool.keywords && tool.keywords.slice(0, 3).map((keyword) => (
                <span class="inline-block bg-gray-100  text-gray-700  text-xs px-2 py-1 rounded">
                  {keyword}
                </span>
              ))}
            </div>
          </a>
        ))}
      </div>
    </section>

    {/* Conversion Types */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Data Conversion Categories
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {conversionTypes.map((category) => (
          <div class="bg-white  border border-gray-200  rounded-lg p-6">
            <div class="flex items-center mb-4">
              <span class="text-2xl mr-3">{category.icon}</span>
              <div>
                <h3 class="text-xl font-semibold text-gray-900">{category.title}</h3>
                <p class="text-gray-600 text-sm">{category.description}</p>
              </div>
            </div>
            <div class="space-y-2">
              {category.tools.slice(0, 5).map((tool) => (
                <a href={`/${tool.category.id}/${tool.slug}`}
                   class="block p-2 bg-gray-50  rounded hover:bg-gray-100  transition-colors">
                  <div class="flex items-center">
                    <span class="text-sm mr-2">{tool.icon}</span>
                    <span class="text-sm font-medium text-gray-900">
                      {tool.name.replace(/ - .*$/, '')}
                    </span>
                  </div>
                </a>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    {/* Popular Conversion Workflows */}
    <section class="mb-16 bg-gray-50  rounded-lg p-8 border border-gray-200">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Popular Data Conversion Workflows
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white  p-6 rounded-lg border border-gray-200">
          <div class="flex items-center justify-between mb-4">
            <span class="text-2xl">ðŸ“Š</span>
            <span class="text-sm bg-blue-100  text-blue-800  px-2 py-1 rounded border border-blue-200">API Data</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">API Response Processing</h3>
          <p class="text-gray-600 text-sm mb-4">
            Convert JSON API responses to CSV or Excel for analysis and reporting.
          </p>
          <div class="text-xs text-gray-500">
            JSON â†’ CSV â†’ Excel
          </div>
        </div>
        <div class="bg-white  p-6 rounded-lg border border-gray-200">
          <div class="flex items-center justify-between mb-4">
            <span class="text-2xl">ðŸ“ˆ</span>
            <span class="text-sm bg-green-100  text-green-800  px-2 py-1 rounded border border-green-200">Analytics</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Data Analysis Pipeline</h3>
          <p class="text-gray-600 text-sm mb-4">
            Import CSV data, convert to JSON for processing, export results to Excel.
          </p>
          <div class="text-xs text-gray-500">
            CSV â†’ JSON â†’ Analysis â†’ Excel
          </div>
        </div>
        <div class="bg-white  p-6 rounded-lg border border-gray-200">
          <div class="flex items-center justify-between mb-4">
            <span class="text-2xl">âš¡</span>
            <span class="text-sm bg-purple-100  text-purple-800  px-2 py-1 rounded border border-purple-200">Development</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Code Generation</h3>
          <p class="text-gray-600 text-sm mb-4">
            Generate TypeScript interfaces from JSON data for type-safe development.
          </p>
          <div class="text-xs text-gray-500">
            JSON â†’ TypeScript â†’ Code
          </div>
        </div>
      </div>
    </section>

    {/* Conversion Features */}
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Why Choose Our Data Converters?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="text-center p-6">
          <div class="w-16 h-16 bg-blue-100  rounded-lg flex items-center justify-center mx-auto mb-4 border border-blue-200">
            <span class="text-2xl">ðŸš€</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Lightning Fast</h3>
          <p class="text-gray-600 text-sm">
            Instant conversion with real-time preview. No waiting, no processing delays.
          </p>
        </div>
        <div class="text-center p-6">
          <div class="w-16 h-16 bg-green-100  rounded-lg flex items-center justify-center mx-auto mb-4 border border-green-200">
            <span class="text-2xl">ðŸ”’</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">100% Private</h3>
          <p class="text-gray-600 text-sm">
            All conversions happen locally. Your data never leaves your browser.
          </p>
        </div>
        <div class="text-center p-6">
          <div class="w-16 h-16 bg-purple-100  rounded-lg flex items-center justify-center mx-auto mb-4 border border-purple-200">
            <span class="text-2xl">ðŸ’ª</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">No Limits</h3>
          <p class="text-gray-600 text-sm">
            Convert files of any size. No registration, no file limits, completely free.
          </p>
        </div>
        <div class="text-center p-6">
          <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-4 border border-orange-200">
            <span class="text-2xl">ðŸŽ¯</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Accurate Results</h3>
          <p class="text-gray-600 text-sm">
            Professional-grade conversion algorithms ensure data integrity and accuracy.
          </p>
        </div>
      </div>
    </section>

    {/* All Converters */}
    {otherConverters.length > 0 && (
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
          All Data Converters
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          {otherConverters.map((tool) => (
            <a href={`/${tool.category.id}/${tool.slug}`}
               class="block p-4 bg-white  border border-gray-200  rounded-lg hover:shadow-sm transition-shadow">
              <div class="flex items-center">
                <span class="text-xl mr-3">{tool.icon}</span>
                <div>
                  <h3 class="font-medium text-gray-900 line-clamp-1">
                    {tool.name.replace(/ - .*$/, '')}
                  </h3>
                  <p class="text-gray-600 text-sm line-clamp-1">
                    {tool.description}
                  </p>
                </div>
              </div>
            </a>
          ))}
        </div>
      </section>
    )}

    {/* FAQ Section */}
    <section class="bg-gray-50  rounded-lg p-8 border border-gray-200">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Data Conversion FAQ
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              What file formats can I convert?
            </h3>
            <p class="text-gray-600">
              We support JSON, CSV, XML, Excel (XLSX), TSV, YAML, Base64, images, and many more formats with dozens of conversion combinations.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Is there a file size limit?
            </h3>
            <p class="text-gray-600">
              No, there are no file size limits. Our converters can handle small snippets to large datasets efficiently in your browser.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              How accurate are the conversions?
            </h3>
            <p class="text-gray-600">
              Our converters use industry-standard algorithms and libraries to ensure 100% accurate data conversion with proper type handling.
            </p>
          </div>
        </div>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Can I convert data in bulk?
            </h3>
            <p class="text-gray-600">
              Yes, many of our tools support batch conversion and can process multiple files or large datasets at once.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Do conversions preserve data types?
            </h3>
            <p class="text-gray-600">
              Yes, our converters intelligently preserve data types (strings, numbers, booleans) and handle special characters properly.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              Are conversion tools free forever?
            </h3>
            <p class="text-gray-600">
              Absolutely! All conversion tools are completely free with no hidden costs, usage limits, or premium features.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
